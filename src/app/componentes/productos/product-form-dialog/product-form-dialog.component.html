<div class="flex w-full max-w-4xl mx-auto md:h-max">
  <form (ngSubmit)="onGuardar()"
    class="container flex flex-col w-full h-full p-6 bg-zinc-100 rounded-2xl shadow-sm">

    <!-- Header -->
    <div class="flex justify-center items-center gap-2 mb-6 flex-shrink-0">
      <div class="w-10 h-10 rounded-xl bg-emerald-500 flex items-center justify-center shadow-md">
        <i class="fa-solid fa-plus text-white"></i>
      </div>
      <h6 class="text-lg font-bold text-gray-900">{{ tituloDialog }}</h6>
    </div>

    <!-- Contenido: en mobile columna, en PC grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 flex-1">

      <!-- Columna izquierda -->
      <div class="flex flex-col gap-4">
        <!-- ID -->
        <div class="flex flex-col gap-2">
          <p class="font-semibold text-gray-800">ID</p>
          <input type="text" id="id" [(ngModel)]="productoLocal.id" name="id" required [readonly]="data.modoEdicion"
            class="w-full rounded-xl bg-white px-3 py-2 text-base text-gray-900 border border-gray-300 
                   placeholder:text-gray-400 shadow-inner
                   focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition" />
        </div>

        <!-- Precio de costo solo admin -->
        <div class="flex flex-col gap-2" *ngIf="data.esAdmin">
          <p class="font-semibold text-slate-700 text-sm">Precio de costo</p>
          <input type="number" step="0.01" placeholder="0.00" [(ngModel)]="productoLocal.precio_costo" name="precio_costo"
            class="w-full rounded-lg bg-slate-50 px-3 py-2 text-sm text-slate-700 border border-slate-300 
                   placeholder:text-slate-400 shadow-inner
                   focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition" />
        </div>

        <!-- Ganancia solo admin -->
        <div *ngIf="data.esAdmin" class="flex flex-col gap-2">
          <p class="font-semibold text-slate-700 text-sm">Ganancia (%)</p>
          <input type="number" [(ngModel)]="productoLocal.ganancia" name="ganancia" step="0.1" placeholder="0.0"
            class="w-full rounded-lg bg-slate-50 px-3 py-2 text-sm text-slate-700 border border-slate-300 
                   placeholder:text-slate-400 shadow-inner
                   focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition" />
        </div>

        <!-- Stock -->
        <div class="flex flex-col gap-2">
          <p class="font-semibold text-slate-700 text-sm">Stock</p>
          <input type="number" [(ngModel)]="productoLocal.stock" name="stock" placeholder="0"
            class="w-full rounded-lg bg-slate-50 px-3 py-2 text-sm text-slate-700 border border-slate-300 
                   placeholder:text-slate-400 shadow-inner
                   focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition" />
        </div>
      </div>

      <!-- Columna derecha -->
      <div class="flex flex-col gap-4">
        <!-- Categoría -->
        <div class="flex flex-col gap-2">
          <p class="font-semibold text-slate-700 text-sm">Categoría</p>
          <input type="text" [(ngModel)]="productoLocal.categoria" name="categoria" placeholder="Nombre de la categoría"
            class="w-full rounded-lg bg-slate-50 px-3 py-2 text-sm text-slate-700 border border-slate-300 
                   placeholder:text-slate-400 shadow-inner
                   focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition" />
        </div>

        <!-- Descripción -->
        <div class="flex flex-col gap-2">
          <p class="font-semibold text-slate-700 text-sm">Descripción</p>
          <textarea [(ngModel)]="productoLocal.descripcion" name="descripcion" id="descripcion"
            placeholder="Descripción del producto..." rows="5"
            class="w-full rounded-lg bg-slate-50 px-3 py-2 text-sm text-slate-700 border border-slate-300 
                   placeholder:text-slate-400 shadow-inner resize-none
                   focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 transition"></textarea>
        </div>

        <!-- Precio calculado -->
        <div class="flex justify-between items-center border-t border-slate-200 pt-4">
          <p class="text-sm font-medium text-slate-600">Precio de venta:</p>
          <p class="text-lg font-bold text-emerald-600">${{ precioVenta.toFixed(2) }}</p>
        </div>
      </div>
    </div>

    <!-- Botón abajo -->
    <div class="mt-6">
      <button
        class="w-full py-2.5 rounded-xl bg-emerald-500 text-white font-semibold text-sm shadow-md hover:bg-emerald-600 transition">
        {{ textoBoton }} <!-- Actualizar o Guardar-->
      </button>
    </div>
  </form>
</div>
